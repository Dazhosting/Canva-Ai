<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dokumentasi API - Chat AI Canva</title>
    <style>
        /* --- Reset & Font --- */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code&display=swap');

        :root {
            --bg-color: #f8fafc;
            --sidebar-bg: #ffffff;
            --text-color: #334155;
            --heading-color: #1e293b;
            --primary-color: #4f46e5;
            --border-color: #e2e8f0;
            --code-bg: #282c34;
            --code-text: #abb2bf;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        /* --- Layout Utama --- */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
        }

        .sidebar {
            width: 260px;
            height: 100vh;
            position: sticky;
            top: 0;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .main-content {
            flex-grow: 1;
            padding: 2rem 3rem;
        }

        /* --- Sidebar --- */
        .sidebar-header {
            padding: 0 1.5rem 1rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--heading-color);
        }

        .sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 1rem 0;
        }

        .sidebar nav a {
            display: block;
            padding: 0.6rem 1.5rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .sidebar nav a:hover {
            background-color: #f1f5f9;
            color: var(--heading-color);
        }

        .sidebar nav a.active {
            color: var(--primary-color);
            font-weight: 600;
            border-left-color: var(--primary-color);
            background-color: #eef2ff;
        }

        /* --- Konten Utama --- */
        section {
            margin-bottom: 4rem;
            scroll-margin-top: 2rem;
        }

        h1, h2, h3 {
            color: var(--heading-color);
            font-weight: 700;
            margin-top: 0;
        }
        h1 { font-size: 2.5rem; margin-bottom: 1rem; }
        h2 { font-size: 1.75rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
        h3 { font-size: 1.25rem; margin-bottom: 1rem; }

        p, li {
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.6rem;
            font-size: 0.8rem;
            font-weight: 700;
            border-radius: 9999px;
            text-transform: uppercase;
        }
        .badge-post { background-color: #dbeafe; color: #1d4ed8; }
        .badge-success { background-color: #d1fae5; color: #065f46; }
        .badge-error { background-color: #fee2e2; color: #991b1b; }

        /* --- Blok Kode --- */
        .code-block {
            background-color: var(--code-bg);
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
            position: relative;
        }
        .code-header {
            background-color: #21252b;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .code-title {
            color: #d1d5db;
            font-size: 0.9rem;
            font-weight: 500;
        }
        .copy-button {
            background-color: #374151;
            color: #e5e7eb;
            border: none;
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-button:hover { background-color: #4b5563; }
        pre {
            margin: 0;
            padding: 1rem;
            color: var(--code-text);
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        code { font-family: 'Fira Code', monospace; }
        .inline-code {
            background-color: #eef2ff;
            color: #3730a3;
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 0.9em;
        }

        /* --- Tabel --- */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        th, td {
            text-align: left;
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }
        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: var(--heading-color);
        }

        /* --- Responsif --- */
        @media (max-width: 1024px) {
            .container { flex-direction: column; }
            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 1rem 0;
            }
            .sidebar-header { padding: 0 1rem 1rem; }
            .sidebar nav { display: flex; overflow-x: auto; padding: 0 1rem; }
            .sidebar nav ul { display: flex; flex-direction: row; }
            .sidebar nav a { border-left: none; border-bottom: 3px solid transparent; white-space: nowrap; }
            .sidebar nav a.active { border-bottom-color: var(--primary-color); }
            .main-content { padding: 2rem 1.5rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                Dokumentasi API
            </div>
            <nav>
                <ul id="nav-links">
                    <li><a href="#pendahuluan" class="active">Pendahuluan</a></li>
                    <li><a href="#autentikasi">Autentikasi</a></li>
                    <li><a href="#permintaan">Permintaan Chat</a></li>
                    <li><a href="#respons">Struktur Respons</a></li>
                    <li><a href="#kesalahan">Penanganan Kesalahan</a></li>
                    <li><a href="#contoh">Contoh Kode</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <section id="pendahuluan">
                <h1>Pendahuluan</h1>
                <p>Selamat datang di dokumentasi API Chat AI Canva. API ini memungkinkan Anda untuk mengintegrasikan kemampuan pemrosesan bahasa alami dari model AI kami ke dalam aplikasi Anda. Anda dapat mengirimkan permintaan berupa teks dan menerima respons terstruktur yang dapat berisi teks, kode, atau bahkan pratinjau HTML.</p>
                <p>API ini dirancang untuk menjadi sederhana dan mudah digunakan dengan menggunakan format JSON standar untuk permintaan dan respons.</p>
            </section>

            <section id="autentikasi">
                <h2>Autentikasi</h2>
                <p>Untuk saat ini, API tidak memerlukan kunci autentikasi yang kompleks. Namun, Anda mungkin perlu menyertakan token Bearer di header <code class="inline-code">Authorization</code> untuk permintaan di masa mendatang.</p>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Contoh Header</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>Authorization: Bearer {TOKEN_ANDA}
Content-Type: application/json</code></pre>
                </div>
                <p>Pastikan untuk mengganti <code class="inline-code">{TOKEN_ANDA}</code> dengan kunci API yang valid jika diperlukan.</p>
            </section>

            <section id="permintaan">
                <h2>Permintaan Chat</h2>
                <p>Untuk berinteraksi dengan AI, kirimkan permintaan <code class="inline-code">POST</code> ke endpoint berikut:</p>
                <h3><span class="badge badge-post">POST</span> /api/canva</h3>
                <p>Isi permintaan (body) harus berupa objek JSON yang berisi satu properti: <code class="inline-code">query</code>.</p>
                
                <h4>Body Permintaan</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Properti</th>
                            <th>Tipe</th>
                            <th>Wajib</th>
                            <th>Deskripsi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="inline-code">query</code></td>
                            <td>String</td>
                            <td>Ya</td>
                            <td>Teks permintaan atau pertanyaan yang ingin Anda ajukan ke AI.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Contoh Body Permintaan (JSON)</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>{
    "query": "buatkan saya tombol login dengan efek hover menggunakan HTML dan CSS"
}</code></pre>
                </div>
            </section>

            <section id="respons">
                <h2>Struktur Respons</h2>
                <p>Jika permintaan berhasil, server akan merespons dengan status <span class="badge badge-success">200 OK</span> dan body JSON.</p>
                <p>Body respons berisi properti <code class="inline-code">result</code>, yang merupakan sebuah array dari objek-objek. Setiap objek mewakili satu blok konten dari jawaban AI. Blok ini bisa berupa teks, kode, atau HTML.</p>

                <h4>Objek Blok Konten</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Properti</th>
                            <th>Tipe</th>
                            <th>Deskripsi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="inline-code">type</code></td>
                            <td>String</td>
                            <td>Jenis konten. Nilai yang mungkin: <code class="inline-code">text</code>, <code class="inline-code">html</code>, <code class="inline-code">javascript</code>, <code class="inline-code">css</code>, <code class="inline-code">python</code>, dll.</td>
                        </tr>
                        <tr>
                            <td><code class="inline-code">content</code></td>
                            <td>String</td>
                            <td>Isi dari blok konten tersebut.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Contoh Respons Berhasil (JSON)</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>{
    "result": [
        {
            "type": "text",
            "content": "Tentu, ini adalah contoh tombol sederhana dengan efek hover."
        },
        {
            "type": "html",
            "content": "&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button class=\"login-btn\"&gt;Login&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;"
        },
        {
            "type": "css",
            "content": ".login-btn {\n  background-color: #4f46e5;\n  color: white;\n  /* ... gaya lainnya ... */\n}\n.login-btn:hover {\n  background-color: #4338ca;\n}"
        }
    ]
}</code></pre>
                </div>
            </section>

            <section id="kesalahan">
                <h2>Penanganan Kesalahan</h2>
                <p>Jika terjadi masalah dengan permintaan Anda, API akan mengembalikan kode status HTTP yang sesuai beserta pesan kesalahan dalam format JSON.</p>
                
                <h4><span class="badge badge-error">400 Bad Request</span></h4>
                <p>Terjadi jika body permintaan tidak valid, misalnya properti <code class="inline-code">query</code> tidak ada atau kosong.</p>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Contoh Respons Kesalahan (JSON)</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>{
    "error": "Properti 'query' tidak boleh kosong."
}</code></pre>
                </div>

                <h4><span class="badge badge-error">500 Internal Server Error</span></h4>
                <p>Terjadi jika ada masalah di sisi server saat memproses permintaan Anda.</p>
                 <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Contoh Respons Kesalahan (JSON)</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>{
    "error": "Terjadi kesalahan internal pada server."
}</code></pre>
                </div>
            </section>
            
            <section id="contoh">
                <h2>Contoh Kode</h2>
                <p>Berikut adalah beberapa contoh cara memanggil API menggunakan bahasa dan alat yang berbeda.</p>

                <h3>cURL</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Bash</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>curl -X POST 'https://pcl-canvaai.vercel.app/api/canva' \
-H 'Content-Type: application/json' \
-d '{
    "query": "apa itu javascript?"
}'</code></pre>
                </div>

                <h3>JavaScript (Fetch API)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">JavaScript</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>async function getAiResponse(prompt) {
    const endpoint = 'https://pcl-canvaai.vercel.app/api/canva';
    
    try {
        const response = await fetch(endpoint, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ query: prompt }),
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        console.log(data.result);
        return data.result;

    } catch (error) {
        console.error("Gagal mengambil data dari API:", error);
    }
}

getAiResponse("jelaskan tentang API");</code></pre>
                </div>

                <h3>Python (Requests)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-title">Python</span>
                        <button class="copy-button">Salin</button>
                    </div>
                    <pre><code>import requests
import json

def get_ai_response(prompt):
    endpoint = 'https://pcl-canvaai.vercel.app/api/canva'
    headers = {
        'Content-Type': 'application/json'
    }
    payload = {
        'query': prompt
    }

    try:
        response = requests.post(endpoint, headers=headers, data=json.dumps(payload))
        response.raise_for_status()  # Akan melempar error untuk status 4xx/5xx
        
        result = response.json()
        print(result.get('result'))
        return result.get('result')

    except requests.exceptions.RequestException as e:
        print(f"Gagal mengambil data dari API: {e}")
        return None

get_ai_response("apa perbedaan list dan tuple di python?")</code></pre>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Fitur Salin Kode ---
            const copyButtons = document.querySelectorAll('.copy-button');
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const pre = button.closest('.code-block').querySelector('pre');
                    const code = pre.innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        button.innerText = 'Tersalin!';
                        setTimeout(() => {
                            button.innerText = 'Salin';
                        }, 2000);
                    }).catch(err => {
                        console.error('Gagal menyalin teks: ', err);
                    });
                });
            });

            // --- Navigasi Aktif Berdasarkan Scroll ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('#nav-links a');

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-30% 0px -70% 0px' });

            sections.forEach(section => {
                observer.observe(section);
            });
            
            // --- Smooth Scroll ---
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>

</body>
  </html>
          
